(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function y(e){return Array.isArray(e)?e.filter(t=>t&&typeof t.text=="string"&&t.text.trim()&&typeof t.author=="string"&&t.author.trim()):[]}function u(e){const t=Math.floor(Math.random()*e.length);return e[t]}function h(e,t){if(!t)return e||[];if(!e||!Array.isArray(e))return[];const n=t.trim().toLowerCase();return n?e.filter(i=>i&&typeof i.author=="string"&&i.author.trim().toLowerCase()===n):[]}function c(e){const t=document.getElementById("quote-text"),n=document.getElementById("quote-author");e&&e.text&&e.author?(t.textContent=`"${e.text}"`,n.textContent=`— ${e.author}`):(t.textContent='"No quotes available"',n.textContent="— System")}function g(){const e=document.getElementById("loading");e.style.display="block"}function p(){const e=document.getElementById("loading");e.style.display="none"}function l(e){const t=document.getElementById("error");t.textContent=e,t.style.display="block"}function d(){const e=document.getElementById("error");e.style.display="none"}async function E(){try{const t=await fetch("/maximus-training-patrick-mirror/quotes.json");if(!t.ok)throw new Error(`Failed to load quotes: ${t.status}`);const n=await t.json();return y(n)}catch(e){throw console.error("Error loading quotes:",e),new Error("Failed to load quotes. Please check your connection.")}}async function w(){let e=[],t=[];try{if(g(),d(),e=await E(),t=[...e],e.length===0)throw new Error("No valid quotes found in the data file.");const r=u(e);c(r)}catch(r){l(r.message),c(null)}finally{p()}const n=document.getElementById("search-button"),i=document.getElementById("author-input");n.addEventListener("click",()=>{o(e)}),i.addEventListener("keypress",r=>{r.key==="Enter"&&o(e)});function o(r){const s=i.value.trim();try{if(d(),!s){t=[...r];const m=u(r);c(m);return}const a=h(r,s);if(a.length===0){l(`No quotes found for author "${s}". Please check the spelling and try again.`),c(null);return}const f=u(a);c(f),t=a}catch(a){l("An error occurred while searching. Please try again."),console.error("Search error:",a)}}}document.addEventListener("DOMContentLoaded",w);
