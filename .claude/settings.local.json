{
  "permissions": {
    "allow": [
      "Bash(git stash)",
      "Bash(git rebase origin/main)",
      "Bash(git rebase --abort)",
      "Bash(git stash pop)",
      "Bash(git checkout origin/main -- typecheck/results.json)",
      "Bash(pnpm -r typecheck)",
      "Bash(npx pnpm -r typecheck)",
      "Bash(npm test)",
      "Bash(npx tsc --noEmit)",
      "Bash(npm run lint)",
      "Bash(npx eslint src/services/PostsService.ts src/core/posts/posts.service.test.ts)",
      "Bash(git add api/src/services/PostsService.ts api/src/core/posts/posts.service.test.ts)",
      "Bash(find:*)",
      "Bash(gh pr checks:*)",
      "Bash(gh run view:*)",
      "Bash(npx tsx:*)",
      "Bash(npm install:*)",
      "Bash(npm test:*)",
      "Bash(git add:*)",
      "Bash(git reset:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat(hardening): implement Week 8 Day 2 foundational security (T004-T051)\n\nImplements production hardening for API and BFF with CORS, content-type validation,\nsecurity headers, and comprehensive OpenAPI contract validation.\n\nChanges:\n- OpenAPI: Enhanced canonical spec with servers, error examples, requestId field\n- Validator: Created scripts/validate-openapi.ts for contract validation\n- CORS: Custom preflight middleware with proper Vary headers, no rate-limit on OPTIONS\n- Content-Type: 415 guard for mutations requiring application/json\n- Security: Baseline headers (Referrer-Policy, nosniff, X-Frame-Options, CSP with nonce)\n- Tests: CORS preflight contract tests (minor failures with helmet interaction to fix)\n- Docs: Rate-limit header policy, logging/retention policy, time sync assumptions\n\nTasks completed: T004, T005, T006, T031, T032, T042, T044, T049, T050, T051\n\nNote: CORS preflight tests have 5 failures due to middleware ordering with helmet/cors\npackage. Headers are being set but helmet is overriding. Follow-up commit needed.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(gh pr view:*)",
      "Bash(node -e:*)",
      "Bash(npx @stoplight/spectral-cli@6 lint:*)",
008-identity-hardening/day2-t054-t069-foundational
      "Bash(npm run contracts:sync:*)",
      "Bash(git pull:*)",
      "Bash(git tag:*)",
      "Bash(pwsh:*)",
      "Bash(git fetch:*)",
      "Bash(git checkout:*)",
      "Bash(cat:*)",
      "Bash(git stash push:*)",
      "Bash(git push:*)",
      "Bash(pnpm -r typecheck:*)",
      "Bash(npm run test:types:*)"
=======
      "Bash(npm run contracts:sync:*)"
main
    ],
    "deny": [],
    "ask": []
  }
}
